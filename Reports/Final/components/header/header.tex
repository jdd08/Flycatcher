\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{./garamond}

\usepackage{titlesec}
\usepackage{url}
\usepackage{graphicx}
\usepackage{amssymb}

\usepackage{listings}


% \usepackage{shaded}

%\usepackage[margin=2.3cm]{geometry}
\usepackage{tikz}
% \renewcommand*\ttdefault{ascii}

\usepackage{fancyvrb,fancybox,calc} 
\definecolor{myblue}{rgb}{0.0,0.5,0.97}
\definecolor{mylightgray}{rgb}{0.95,0.95,0.95}
%\definecolor{mylightgray}{rgb}{0.4,0.4,0.4}
%\definecolor{mylightgray}{rgb}{0.867,0.867,0.867}
%\definecolor{mylightblue}{rgb}{0.659,0.769,0.941}
\newenvironment{verbcode}{\VerbatimEnvironment% 
  \noindent
  \newline
  \begin{Sbox}
 % \color{myblue}
  \begin{minipage}{\linewidth-2\fboxsep-2\fboxrule-4pt}
  \begin{Verbatim}
}{% 
  \end{Verbatim}
  \end{minipage}
  \end{Sbox}
  \fcolorbox{mylightgray}{mylightgray}{\TheSbox}
%  \fcolorbox{black}{black}{\TheSbox} 
  \newline
  \newline
}

\definecolor{mygreen}{rgb}{0.2, 0.8, 0}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}
\lstset{ %
  language=js,                    % the language of the code
  basicstyle=\ttfamily,       % the size of the fonts that are used for the code
  columns=fixed,
  basewidth=.5em,
  numbers=none,                   % where to put the line-numbers
  numberstyle=\tiny\color{gray},  % the style that is used for the line-numbers
  stepnumber=2,                   % the step between two line-numbers. If it's 1, each line 
                                  % will be numbered
  numbersep=5pt,                  % how far the line-numbers are from the code
  backgroundcolor=\color{mylightgray},      % choose the background color. You must add \usepackage{color}
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  frame=none,                   % adds a frame around the code
  rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=2,                      % sets default tabsize to 2 spaces
  captionpos=b,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  title=\lstname,                   % show the filename of files included with \lstinputlisting;
                                  % also try caption instead of title
  keywordstyle=\color{myblue},          % keyword style
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple},
  morestring=[b]',
  morestring=[b]",
  stringstyle=\color{mygreen},         % string literal style
  escapeinside={\%*}{*)},            % if you want to add a comment within your code
  morekeywords={*,new,var,return,function,...}               % if you want to add more keywords to the set
}

\lstnewenvironment{code}[1][]%
{
   \noindent
   \minipage{\linewidth} 
   \vspace{0.5\baselineskip}
   \lstset{basicstyle=\ttfamily\small,frame=none,#1}}
{\endminipage}

\usetikzlibrary{calendar,snakes,calc,trees,positioning,arrows,chains,shapes.geometric,decorations.pathreplacing,decorations.pathmorphing,shapes,matrix,shapes.symbols}
\tikzset{
>=stealth',
  value/.style={
    text width=10em, 
    minimum height=3em, 
    text centered, 
    on chain},
  component/.style={
    rectangle, 
    rounded corners,
    draw=black, very thick,
    text width=10em, 
    minimum height=3em, 
    text centered, 
    on chain},
  line/.style={draw, thick, <-},
  element/.style={
    tape,
    top color=white,
    bottom color=blue!50!black!60!,
    minimum width=8em,
    draw=blue!40!black!90, very thick,
    text width=10em, 
    minimum height=3.5em, 
    text centered, 
    on chain},
  every join/.style={->, thick,shorten >=1pt},
  decoration={brace},
  category/.style={decorate},
  catlabel/.style={midway, right=2pt},
}